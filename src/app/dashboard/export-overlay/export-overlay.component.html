<div class="flex-column flex-center full-size">
  <div class="dialog-box flex-column flex-no-shrink" (click)="$event.stopPropagation()">
    <!-- heading -->
    <div class="dialog-header flex-row flex-center">
      <div class="dialog-heading">Export</div>
    </div>

    <!-- dialog body -->
    <div class="flex-column">
      <!-- upper box -->
      <div class="flex-row alternative-box">
        <mat-icon class="alternative-icon">description</mat-icon>
        <div class="flex-column align-items-start flex-spacing-5">
          <div class="box-heading">Team Allocation Data</div>
          <div class="flex-grow">
            This exports the current team allocation as CSV file that you can use to backup and share the current
            project. Additionally, a text file containing a history of constraint applications is provided.
          </div>
          <button mat-raised-button color="primary" (click)="exportCSV()">
            <mat-icon>get_app</mat-icon>Download Archive
          </button>
        </div>
      </div>

      <div class="seperator"></div>

      <!-- lower box -->
      <div class="flex-row alternative-box">
        <mat-icon class="alternative-icon">assignment_ind</mat-icon>
        <div class="align-items-start flex-spacing-5">
          <div class="box-heading">Team and Person Card Images</div>
          <div class="flex-grow">
            Images of all team representations and person cards can be exported to visualize the team allocation and
            person information.
          </div>
          <mat-progress-bar
            [class.progress-bar-disabled]="!imageExportRunning"
            [class.opacity-0]="!imageExportRunning"
            mode="determinate"
            [value]="getImageExportProgressPercentage()"></mat-progress-bar>
          <div class="d-flex justify-content-between mt-3">
            <button
              mat-raised-button
              color="primary"
              [disabled]="imageExportRunning"
              (click)="exportScreenshots(false)">
              <mat-icon>get_app</mat-icon>Download Team Overview + Members
            </button>
            <button mat-raised-button color="primary" [disabled]="imageExportRunning" (click)="exportScreenshots(true)">
              <mat-icon>get_app</mat-icon>Download Team Overview
            </button>
          </div>
        </div>
      </div>

      <div class="seperator"></div>
      <div class="flex-row alternative-box">
        <mat-icon class="alternative-icon">api</mat-icon>
        <div class="flex-column align-items-start flex-spacing-5">
          <div class="box-heading">Prompt Export</div>
          <div class="flex-grow">This exports the current team allocation to prompt</div>
          <button mat-raised-button color="primary" (click)="exportPrompt()">
            <mat-icon>api</mat-icon>Export to Prompt
          </button>
        </div>
      </div>
    </div>

    <div class="capturing-parent">
      <app-person-detail-card></app-person-detail-card>
    </div>

    <div class="capturing-parent">
      <app-team></app-team>
    </div>
  </div>
</div>
