<div *ngIf="team" class="team-card flex-column" (click)="$event.stopPropagation()">
  <!-- team title -->
  <div class="flex-row flex-justify-content-space-between flex-center">
    <div class="team-student-count title-elements-spacing flex-row flex-center flex-justify-center">
      <div>{{ team.students.length }}</div>
    </div>
    <div class="team-name title-elements-spacing">{{ team.name }}</div>
    <div class="title-elements-spacing">
      <button
        md-icon-button
        [disabled]="team.students.length === 0"
        (click)="statisticsVisible = !statisticsVisible"
        [class.icon-button-highlight]="statisticsVisible"
        [class.opacity-zero]="screenshotMode">
        <i class="material-icons">timeline</i>
      </button>
    </div>
  </div>

  <!-- statistics -->
  <app-team-statistics [team]="team" *ngIf="statisticsVisible && team.students.length > 0"></app-team-statistics>

  <!-- student preview cards -->
  <div class="position-relative">
    <div *ngIf="team.students.length === 0" class="pointer-events-none empty-team-hint-container flex-row">
      <div class="empty-team-hint flex-grow flex-row flex-center flex-justify-center">
        <div>Drag students here</div>
      </div>
    </div>
    <div dragula="students" class="drag-container" [(dragulaModel)]="team.students">
      <app-student-preview
        *ngFor="let student of team.students"
        [student]="student"
        (click)="onStudentClicked.emit(student); $event.stopPropagation()"></app-student-preview>
    </div>
  </div>
</div>
